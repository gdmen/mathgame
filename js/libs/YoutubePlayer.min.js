(function(b){function a(d,f,e){this.id=d;this.videoId=f;this.handlers={};this.ref=null;this.width="425";this.height="356";this.flashVersion="8";this.chromeless=false;this.objparams={allowScriptAccess:"always"};this.ytparams={version:3};this.attrs={id:this.id};var c=function(i,g){for(var h in i){g[h]=i[h]}};if(e){if(e.objparams){c(e.objparams,this.objparams)}if(e.ytparams){c(e.ytparams,this.ytparams)}if(e.attrs){c(e.attrs,this.attrs)}if(e.width){this.width=e.width}if(e.height){this.height=e.height}if(e.flashVersion){this.flashVersion=e.flashVersion}if(e.chromeless){this.chromeless=e.chromeless}}this.embed();a.register(this)}a.prototype.embed=function(){var d="";for(val in this.ytparams){d+="&"+val+"="+this.ytparams[val]}if(this.chromeless){var e="http://www.youtube.com/apiplayer?video_id={videoId}&version=3&enablejsapi=1&playerapiid={playerId}"}else{var e="http://www.youtube.com/v/{videoId}?enablejsapi=1&playerapiid={playerId}{yturlparams}"}e=e.replace("{videoId}",this.videoId);e=e.replace("{playerId}",this.id);e=e.replace("{yturlparams",d);if(!swfobject){throw new ReferenceError("YoutubePlayer depends on the SWFObject library but it is missing.")}var c=this;swfobject.embedSWF(e,this.id,this.width,this.height,this.flashVersion,null,null,this.objparams,this.attrs,function(f){c.ref=f.ref})};a.prototype.on=a.prototype.at=function(d,f,c){c=(typeof c=="undefined")?500:c;if(d.indexOf("-")!=-1){eventNames=d.split("-");startTime=parseInt(eventNames[0]);endTime=parseInt(eventNames[1]);while(endTime>=startTime){this.handlers[startTime.toString()]=this.handlers[startTime.toString()]||[];this.handlers[startTime.toString()].push(f);startTime+=c}}else{if(d.indexOf(",")!=-1){eventNames=d.split(",");for(var e in eventNames){this.handlers[eventNames[e]]=this.handlers[eventNames[e]]||[];this.handlers[eventNames[e]].push(f)}}else{this.handlers[d]=this.handlers[d]||[];this.handlers[d].push(f)}}};a.prototype.onReady=function(){var c=document.getElementById(this.id);var d='YoutubePlayer.dispatchEvent("{id}")';var e=d.replace("{id}",this.id);c.addEventListener("onStateChange",e)};a.prototype.notifyEvent=function(e){var d=a.STATES;for(var c in d){if(d[c]==e){this.fireEvent(c)}}};a.prototype.fireEvent=function(d){var c=this.handlers[d];if(!c){return}for(var e=0;e<c.length;e++){c[e](d)}};a.instances=[];a.register=function(c){this.instances.push(c)};a.findById=function(c){var e=null;for(var d=0;d<this.instances.length;d++){if(this.instances[d].id==c){e=this.instances[d]}}return e};a.dispatchEvent=function(c){var d=a.findById(c);return function(e){d.notifyEvent(e)}};a.STATES={unstarted:-1,ended:0,playing:1,paused:2,buffering:3,cued:5};b.YoutubePlayer=a;b.onYouTubePlayerReady=function(c){a.findById(c).onReady()}})(window);